(this["webpackJsonpreact-marvel-api"]=this["webpackJsonpreact-marvel-api"]||[]).push([[0],{12:function(e,t,c){},25:function(e,t,c){"use strict";c.r(t);var a=c(1),i=c.n(a),n=c(5),o=c.n(n),s=c(2),r=c(13),l=c.n(r),d=c(0),u=function(e){return Object(d.jsxs)("div",{id:"formulario",children:[Object(d.jsx)("input",{type:"text",id:"campo",className:"campo",placeholder:"Pesquisar Comic...",onChange:function(t){e.getSearchData().setComicTitle(t.target.value)}}),Object(d.jsx)("input",{type:"submit",value:"pesquisar",className:"btn",onClick:function(t){var c=e.getSearchData(),a="".concat(c.baseURL,"&titleStartsWith=").concat(c.comicTitle);fetch(a).then((function(e){return e.json()})).then((function(t){var c=t.data.results.map((function(e){var t,c,a;return{id:e.id,description:e.description,title:e.title,image:"".concat(null!==(t=e.thumbnail.path)&&void 0!==t?t:"default","/portrait_uncanny.").concat(e.thumbnail.extension),date:null===(c=e.dates[0])||void 0===c?void 0:c.date,price:null===(a=e.prices[0])||void 0===a?void 0:a.price}}));e.setComics(c)}))}})]})},m=c.p+"static/media/marvel-logo.19ad144b.png",j=function(e){return Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("a",{href:"index.html",children:Object(d.jsx)("img",{className:"logo",src:m,alt:"Marvel Logo"})}),Object(d.jsx)(u,{comics:e.comics,setComics:e.setComics,getSearchData:e.getSearchData})]})},h=function(e){return Object(d.jsxs)("div",{className:"formatting",children:[Object(d.jsx)("img",{src:e.imageURL,alt:"Imagem Comic",onClick:e.onClickImage}),Object(d.jsx)("h1",{children:e.title}),Object(d.jsx)("p",{children:0===e.price?"$ 0.00":"$ ".concat(e.price)})]})},b=(c(12),function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"info-comics",children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:e.imageURL,alt:e.title})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:e.title}),Object(d.jsxs)("h2",{children:["price: $",e.price]}),Object(d.jsx)("p",{children:e.description}),Object(d.jsx)("button",{className:"btn-select",onClick:function(){e.handleSelectComic(e.id,e.title)},children:"selecionar"})]})]})})}),p=document.getElementById("portal-root"),f=function(e){var t=e.isOpen,c=e.onClickClose,a=e.comicId,n=e.getSearchData,r=e.setInfoComics,l=e.infoComics,u=e.search,m=e.setSearch,j=i.a.useState([]),h=Object(s.a)(j,2),f=h[0],g=h[1];function O(e,t){var c="(".concat(e,":").concat(t,")"),a=f;if(f.includes(c)){var i=f.indexOf(c);a.splice(i,1),alert("Comic Deselecionada")}else a.push(c),alert("Comic Selecionada");g(a),console.log(f),localStorage.clear(),localStorage.setItem("comics",f)}if(!t)return null;if(t&&u){var A=n(),v="".concat(A.complementoURL);fetch("http://gateway.marvel.com/v1/public/comics/".concat(a).concat(v)).then((function(e){return e.json()})).then((function(e){var t=e.data.results.map((function(e){var t,c,a;return{id:e.id,description:e.description,title:e.title,image:"".concat(null!==(t=e.thumbnail.path)&&void 0!==t?t:"default","/portrait_uncanny.").concat(e.thumbnail.extension),date:null===(c=e.dates[0])||void 0===c?void 0:c.date,price:null===(a=e.prices[0])||void 0===a?void 0:a.price,autors:e.autors}}));r(t),m(!1)}))}return o.a.createPortal(Object(d.jsx)("div",{className:"modal-container",children:Object(d.jsxs)("div",{className:"modalComics",children:[Object(d.jsx)("button",{type:"button",className:"fechar",onClick:c,children:"X"}),l.map((function(e){return Object(d.jsx)(b,{id:e.id,price:e.price,imageURL:e.image,title:e.title,autor:e.autor,description:e.description,handleSelectComic:O},e.id)}))]})}),p)},g=c(27),O=c(28),A=c(29),v=c(30),x=c(31),C=c(4),S=c.n(C),k=(c(24),c(14)),I=c(15);delete S.a.Icon.Default.prototype._getIconUrl;var N=[-7.238227270040868,-39.43078078679895];function y(){var e=S.a.icon({iconUrl:k.a,shadowUrl:I.a});function t(){var e=i.a.useState(null),t=Object(s.a)(e,2),c=t[0],a=t[1],n=Object(g.a)({click:function(){n.locate()},locationfound:function(e){a(e.latlng),n.flyTo(e.latlng,n.getZoom())}});return null===c?null:Object(d.jsx)(O.a,{draggable:"true",position:c,children:Object(d.jsxs)(A.a,{children:[Object(d.jsx)("h3",{children:"As coimics:"}),Object(d.jsx)("h4",{children:localStorage.getItem("comics")}),Object(d.jsx)("h3",{children:"Ser\xe3o Entregues Aqui"})]})})}return S.a.Marker.prototype.options.icon=e,Object(d.jsxs)(v.a,{style:{width:"600px",height:"300px"},center:N,zoom:15,scrollWheelZoom:!1,children:[Object(d.jsx)(x.a,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(d.jsx)(t,{})]})}var U=document.getElementById("portal-root-map"),D=function(e){return e.isOpen?o.a.createPortal(Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("section",{className:"modal-map",children:Object(d.jsxs)("div",{className:"map",children:[Object(d.jsx)("button",{className:"fechar",onClick:e.onClickClose,children:"X"}),Object(d.jsx)(y,{})]})})}),U):null},R=function(e){var t=i.a.useState(null),c=Object(s.a)(t,2),a=c[0],n=c[1],o=i.a.useState(!1),r=Object(s.a)(o,2),l=r[0],u=r[1],m=i.a.useState(!1),j=Object(s.a)(m,2),b=j[0],p=j[1];return i.a.useEffect((function(){var t=e.getSearchData();fetch(t.baseURL).then((function(e){return e.json()})).then((function(t){var c=t.data.results.map((function(e){var t,c,a;return{id:e.id,description:e.description,title:e.title,image:"".concat(null!==(t=e.thumbnail.path)&&void 0!==t?t:"default","/portrait_uncanny.").concat(e.thumbnail.extension),date:null===(c=e.dates[0])||void 0===c?void 0:c.date,price:null===(a=e.prices[0])||void 0===a?void 0:a.price}}));e.setComics(c)}))}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"bar-bg",children:Object(d.jsxs)("button",{className:"btn-bar",onClick:function(){return p(!0)},children:["Enviar Comics ",Object(d.jsx)("img",{className:"btn-img",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAB2AAAAdgFOeyYIAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAADuSURBVHjahJMxSgNREIb/FYLowqawijmBteQGXiHYeQTtkvUgku3MPcTGMlbaWFtomUJIQIh8NrM4Pua9DAw7zPvnY96/uxWgTNSSzqx+k7QJVUCaQ6ADtvzFFlgATaqPhl/Jx0sKSQGdCb+BGXBqObcewF0OULu158HVWjvbAMcRYOJWHQWAkTs/7/sHzs+dq6vAb6/9iZrvrr4KAH2Pf9pkzWdnYmsGjoFbZ+Kq9BZu2B/XJcAR8FkY/jBNFiDgsgCY7vsS+1wGw/eRNgcYAI9u+Ak4jLRV4W88kfRg9YWkdSQqASSpsedXTvA7AOyUZPgZGZLgAAAAAElFTkSuQmCC",alt:""})]})}),Object(d.jsxs)("main",{className:"content comics",id:"content",children:[e.comics.map((function(t){return Object(d.jsx)(h,{id:t.id,price:t.price,imageURL:t.image,title:t.title,setIdComic:e.setIdComic,IdComic:e.idComic,onClickImage:function(){n(t.id),u(!0)}},t.id)})),Object(d.jsx)(f,{isOpen:Boolean(a),comicId:a,onClickClose:function(){return n(null)},getSearchData:e.getSearchData,infoComics:e.infoComics,setInfoComics:e.setInfoComics,search:l,setSearch:u}),Object(d.jsx)(D,{isOpen:b,setMapOpen:p,mapOpen:b,comicSelected:e.comicSelected,onClickClose:function(){return p(!1)}})]})]})},w=function(e){var t=i.a.useState(20),c=Object(s.a)(t,2),a=c[0],n=c[1];return Object(d.jsx)("footer",{className:"footer",children:Object(d.jsx)("button",{onClick:function(t){var c=e.getSearchData(),i="".concat(c.baseURL);""!==c.comicTitle&&(i+="&title=".concat(c.comicTitle)),i+="&limit=".concat(a),n(2*a),fetch(i).then((function(e){return e.json()})).then((function(t){var c=t.data.results.map((function(e){var t,c,a;return{id:e.id,description:e.description,title:e.title,image:"".concat(null!==(t=e.thumbnail.path)&&void 0!==t?t:"default","/portrait_uncanny.").concat(e.thumbnail.extension),date:null===(c=e.dates[0])||void 0===c?void 0:c.date,price:null===(a=e.prices[0])||void 0===a?void 0:a.price}}));e.setComics(c)}))},className:"btn",children:"MORE"})})},B="1637284124589",L="5e1021ef458be16fdcdbab547e7dc215",F=l()(B+"43d59e70a4a96643497c701344c36985abe47edb"+L),T=function(){var e=i.a.useState([]),t=Object(s.a)(e,2),c=t[0],a=t[1],n=i.a.useState([]),o=Object(s.a)(n,2),r=o[0],l=o[1],u=i.a.useState(""),m=Object(s.a)(u,2),h=m[0],b=m[1],p="http://gateway.marvel.com/v1/public/comics?&orderBy=-focDate&ts=".concat(B,"&apikey=").concat(L,"&hash=").concat(F);function f(){return{baseURL:p,comicTitle:h,setComicTitle:b,complementoURL:"?ts=".concat(B,"&apikey=").concat(L,"&hash=").concat(F)}}return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"estrutura",children:[Object(d.jsx)(j,{comics:c,setComics:a,getSearchData:f}),Object(d.jsx)(R,{comics:c,setComics:a,infoComics:r,setInfoComics:l,getSearchData:f}),Object(d.jsx)(w,{comics:c,setComics:a,getSearchData:f})]})})};o.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(T,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.42b9f7da.chunk.js.map